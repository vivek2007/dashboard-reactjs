{"ast":null,"code":"import invariant from 'invariant';\nimport { setClientOffset } from './local/setClientOffset';\nimport { isObject } from '../../utils/js_utils';\nimport { BEGIN_DRAG, INIT_COORDS } from './types';\nvar ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\nexport default function createBeginDrag(manager) {\n  return function beginDrag() {\n    var sourceIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      publishSource: true\n    };\n    var _options$publishSourc = options.publishSource,\n        publishSource = _options$publishSourc === void 0 ? true : _options$publishSourc,\n        clientOffset = options.clientOffset,\n        getSourceClientOffset = options.getSourceClientOffset;\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants(sourceIds, monitor, registry); // Get the draggable source\n\n    var sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId === null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    var sourceClientOffset = null;\n\n    if (clientOffset) {\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    var source = registry.getSource(sourceId);\n    var item = source.beginDrag(monitor, sourceId);\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    var itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType: itemType,\n        item: item,\n        sourceId: sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  var sourceId = null;\n\n  for (var i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}","map":{"version":3,"sources":["/Users/pradeepkumar/Downloads/clicks-backend-master/node_modules/dnd-core/dist/esm/actions/dragDrop/beginDrag.js"],"names":["invariant","setClientOffset","isObject","BEGIN_DRAG","INIT_COORDS","ResetCoordinatesAction","type","payload","clientOffset","sourceClientOffset","createBeginDrag","manager","beginDrag","sourceIds","arguments","length","undefined","options","publishSource","_options$publishSourc","getSourceClientOffset","monitor","getMonitor","registry","getRegistry","dispatch","verifyInvariants","sourceId","getDraggableSource","verifyGetSourceClientOffsetIsFunction","source","getSource","item","verifyItemIsObject","pinSource","itemType","getSourceType","isSourcePublic","isDragging","forEach","i","canDragSource"],"mappings":"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","sourcesContent":["import invariant from 'invariant';\nimport { setClientOffset } from './local/setClientOffset';\nimport { isObject } from '../../utils/js_utils';\nimport { BEGIN_DRAG, INIT_COORDS } from './types';\nvar ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\nexport default function createBeginDrag(manager) {\n  return function beginDrag() {\n    var sourceIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      publishSource: true\n    };\n    var _options$publishSourc = options.publishSource,\n        publishSource = _options$publishSourc === void 0 ? true : _options$publishSourc,\n        clientOffset = options.clientOffset,\n        getSourceClientOffset = options.getSourceClientOffset;\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants(sourceIds, monitor, registry); // Get the draggable source\n\n    var sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId === null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    var sourceClientOffset = null;\n\n    if (clientOffset) {\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    var source = registry.getSource(sourceId);\n    var item = source.beginDrag(monitor, sourceId);\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    var itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType: itemType,\n        item: item,\n        sourceId: sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  var sourceId = null;\n\n  for (var i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}"]},"metadata":{},"sourceType":"module"}