{"ast":null,"code":"var _jsxFileName = \"/Users/pradeepkumar/Downloads/clicks-backend-master/src/components/kit/widgets/Charts/9/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Doughnut } from 'react-chartjs-2';\nimport data from './data.json';\nimport style from './style.module.scss';\n\nconst Chart9 = () => {\n  const tooltip = React.createRef();\n  const [myRef, setMyRef] = useState(null);\n  const [legend, setLegend] = useState(undefined); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    const leg = generateLegend();\n    setLegend(leg);\n  });\n\n  const setTextInputRef = element => {\n    setMyRef(element);\n  };\n\n  const generateLegend = () => {\n    if (!myRef) return null;\n    return myRef.chartInstance.generateLegend();\n  };\n\n  const createMarkup = () => {\n    return {\n      __html: legend\n    };\n  };\n\n  const options = {\n    animation: false,\n    responsive: true,\n    cutoutPercentage: 70,\n    legend: {\n      display: false\n    },\n    tooltips: {\n      enabled: false,\n      custom: tooltipData => {\n        const tooltipEl = tooltip.current;\n        tooltipEl.style.opacity = 1;\n\n        if (tooltipData.opacity === 0) {\n          tooltipEl.style.opacity = 0;\n        }\n      },\n      callbacks: {\n        label: (tooltipItem, itemData) => {\n          const dataset = itemData.datasets[0];\n          const value = dataset.data[tooltipItem.index];\n          tooltip.current.innerHTML = value;\n        }\n      }\n    },\n    legendCallback: chart => {\n      const {\n        labels\n      } = chart.data;\n      let legendMarkup = [];\n      const dataset = chart.data.datasets[0];\n      legendMarkup.push('<div class=\"kit__c9__chartLegend flex-shrink-0\">');\n      let legends = labels.map((label, index) => {\n        const color = dataset.backgroundColor[index];\n        return `<div class=\"d-flex align-items-center flex-nowrap mt-2 mb-2\"><div class=\"tablet mr-3\" style=\"background-color: ${color}\"></div>${label}</div>`;\n      });\n      legends = legends.join('');\n      legendMarkup.push(legends);\n      legendMarkup.push('</div>');\n      legendMarkup = legendMarkup.join('');\n      return legendMarkup;\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-dark font-size-18 font-weight-bold mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, \"Year Profit\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-gray-6 mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, \"Revenue by location and date\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-wrap align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mr-3 mt-3 mb-3 position-relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Doughnut, {\n    ref: element => setTextInputRef(element),\n    data: data,\n    options: options,\n    width: 140,\n    height: 140,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${style.tooltip} text-gray-5 font-size-28`,\n    ref: tooltip,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    dangerouslySetInnerHTML: createMarkup(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default Chart9;","map":{"version":3,"sources":["/Users/pradeepkumar/Downloads/clicks-backend-master/src/components/kit/widgets/Charts/9/index.js"],"names":["React","useState","useEffect","Doughnut","data","style","Chart9","tooltip","createRef","myRef","setMyRef","legend","setLegend","undefined","leg","generateLegend","setTextInputRef","element","chartInstance","createMarkup","__html","options","animation","responsive","cutoutPercentage","display","tooltips","enabled","custom","tooltipData","tooltipEl","current","opacity","callbacks","label","tooltipItem","itemData","dataset","datasets","value","index","innerHTML","legendCallback","chart","labels","legendMarkup","push","legends","map","color","backgroundColor","join"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Doughnut } from 'react-chartjs-2'\nimport data from './data.json'\nimport style from './style.module.scss'\n\nconst Chart9 = () => {\n  const tooltip = React.createRef()\n  const [myRef, setMyRef] = useState(null)\n  const [legend, setLegend] = useState(undefined)\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    const leg = generateLegend()\n    setLegend(leg)\n  })\n\n  const setTextInputRef = element => {\n    setMyRef(element)\n  }\n\n  const generateLegend = () => {\n    if (!myRef) return null\n    return myRef.chartInstance.generateLegend()\n  }\n\n  const createMarkup = () => {\n    return { __html: legend }\n  }\n\n  const options = {\n    animation: false,\n    responsive: true,\n    cutoutPercentage: 70,\n    legend: {\n      display: false,\n    },\n    tooltips: {\n      enabled: false,\n      custom: tooltipData => {\n        const tooltipEl = tooltip.current\n        tooltipEl.style.opacity = 1\n        if (tooltipData.opacity === 0) {\n          tooltipEl.style.opacity = 0\n        }\n      },\n      callbacks: {\n        label: (tooltipItem, itemData) => {\n          const dataset = itemData.datasets[0]\n          const value = dataset.data[tooltipItem.index]\n          tooltip.current.innerHTML = value\n        },\n      },\n    },\n    legendCallback: chart => {\n      const { labels } = chart.data\n      let legendMarkup = []\n      const dataset = chart.data.datasets[0]\n      legendMarkup.push('<div class=\"kit__c9__chartLegend flex-shrink-0\">')\n      let legends = labels.map((label, index) => {\n        const color = dataset.backgroundColor[index]\n        return `<div class=\"d-flex align-items-center flex-nowrap mt-2 mb-2\"><div class=\"tablet mr-3\" style=\"background-color: ${color}\"></div>${label}</div>`\n      })\n      legends = legends.join('')\n      legendMarkup.push(legends)\n      legendMarkup.push('</div>')\n      legendMarkup = legendMarkup.join('')\n      return legendMarkup\n    },\n  }\n\n  return (\n    <div>\n      <div className=\"text-dark font-size-18 font-weight-bold mb-1\">Year Profit</div>\n      <div className=\"text-gray-6 mb-2\">Revenue by location and date</div>\n      <div className=\"d-flex flex-wrap align-items-center\">\n        <div className=\"mr-3 mt-3 mb-3 position-relative\">\n          <Doughnut\n            ref={element => setTextInputRef(element)}\n            data={data}\n            options={options}\n            width={140}\n            height={140}\n          />\n          <div className={`${style.tooltip} text-gray-5 font-size-28`} ref={tooltip} />\n        </div>\n        <div dangerouslySetInnerHTML={createMarkup()} />\n      </div>\n    </div>\n  )\n}\n\nexport default Chart9\n"]},"metadata":{},"sourceType":"module"}